WHILE Pump is ON
	SET plantSupplyTemperatureSetpoint = HWSTMax
	IF nTemperatureResetRequests < nIgnoredRequests
		IF supplyTemperatureSetpoint > HWSTMin
			plantSupplyTemperatureSetpoint -= SP_trim
		ELSE
			doNothing
		ENDIF
	ELSE
		IF supplyTemperatureSetpoint < HWSTMax
			plantSupplyTemperatureSetpoint += SP_respond
		ELSE
			doNothing
		ENDIF
	ENDIF
	
	IF currentStage == condensingBoiler:
		SET	boilerSupplyTemperatureSetpoint = plantSupplyTemperatureSetpoint
	ELSE:
		SET nonCondensingBoilerSupplyTemperatureSetpoint = plantSupplyTemperatureSetpoint
		SET condensingBoilerSupplyTemperatureSetpoint = min(condensingBoilerSupplyTemperatureSetpointMax,(plantSupplyTemperatureSetpoint - 10))
	ENDIF
ENDWHILE